[
  {
    "objectID": "HW4.html",
    "href": "HW4.html",
    "title": "ST558: Homework 4",
    "section": "",
    "text": "Warning: package 'tidyverse' was built under R version 4.3.3\n\n\nWarning: package 'ggplot2' was built under R version 4.3.2\n\n\nWarning: package 'tibble' was built under R version 4.3.2\n\n\nWarning: package 'tidyr' was built under R version 4.3.2\n\n\nWarning: package 'readr' was built under R version 4.3.2\n\n\nWarning: package 'purrr' was built under R version 4.3.2\n\n\nWarning: package 'dplyr' was built under R version 4.3.3\n\n\nWarning: package 'stringr' was built under R version 4.3.2\n\n\nWarning: package 'forcats' was built under R version 4.3.2\n\n\nWarning: package 'lubridate' was built under R version 4.3.2\n\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.4.4     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.0\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors"
  },
  {
    "objectID": "HW4.html#task-1-conceptual-questions",
    "href": "HW4.html#task-1-conceptual-questions",
    "title": "ST558: Homework 4",
    "section": "Task 1: Conceptual Questions",
    "text": "Task 1: Conceptual Questions\n\nWhat is the purpose of the lapply() function? What is the equivalent purrr function?\n\nThe lapply function applies a function to each element of a list and returns a list, the ‘purrr’ equivalent for this function is map().\n\nSuppose we have a list called my_list. Each element of the list is a numeric data frame (all columns are numeric). We want use lapply() to run the code cor(numeric_matrix, method = “kendall”) on each element of the list. Write code to do this below! (I’m really trying to ask you how you specify method = “kendall” when calling lapply())\n\nlapply(my_list, FUN = cor, method = “kendall”)\n\nWhat are two advantages of using purrr functions instead of the BaseR apply family?\n\nFirstly, ‘purrr’ functions like ‘map()’ provide consistent and easier to read syntax that integrates well with the rest of the tidyverse allowing code to be easier to understand. Secondly, ‘purrr’ offers type-specific functions like ‘map_dbl()’ and others to ensure the output is the desired type.\n\nWhat is a side-effect function?\n\nA side-effect function is a function that performs actions other than returning a value such as printing output, writing to a file, or interacting with an external system. They are called side-effects because they affect the program’s state other than just producing a value or variable.\n\nWhy can you name a variable sd in a function and not cause any issues with the sd function?\n\nNaming a variable ‘sd’ inside a function in R is safe because it remains local to the function and has a distinction different than the global sd() function. This variable would only run while the function is running."
  },
  {
    "objectID": "HW4.html#task-2-writing-r-functions",
    "href": "HW4.html#task-2-writing-r-functions",
    "title": "ST558: Homework 4",
    "section": "Task 2: Writing R functions",
    "text": "Task 2: Writing R functions\n\ngetRMSE function\n\n\ngetRMSE &lt;- function(response, prediction, ...){\n  RMSE = sqrt(mean((response - prediction)^2, ...))\n  return(RMSE = RMSE)\n}\n\n\nTesting RMSE function\n\n\nset.seed(10)\nn &lt;- 100\nx &lt;- runif(n)\nresp &lt;- 3 + 10*x + rnorm(n)\npred &lt;- predict(lm(resp ~ x), data.frame(x))\n\ngetRMSE(resp, pred)\n\n[1] 0.9581677\n\nresp[c(1,2)] = NA_real_\ngetRMSE(resp, pred)\n\n[1] NA\n\ngetRMSE(resp, pred, na.rm = TRUE)\n\n[1] 0.9661699\n\n\n3/4. MAE function\n\ngetMAE &lt;- function(response, prediction, ...){\n  MAE = mean(abs(response - prediction), ...)\n  return(MAE = MAE)\n}\n\nset.seed(10)\nn &lt;- 100\nx &lt;- runif(n)\nresp &lt;- 3 + 10*x + rnorm(n)\npred &lt;- predict(lm(resp ~ x), data.frame(x))\n\ngetMAE(resp, pred)\n\n[1] 0.8155776\n\nresp[c(1,2)] = NA_real_\ngetMAE(resp, pred)\n\n[1] NA\n\ngetMAE(resp, pred, na.rm = TRUE)\n\n[1] 0.8241201\n\n\n5/6. Wrapper function/Test\n\nmetrics &lt;- function(response, prediction, metrics = c(\"RMSE\", \"MAE\"), ...){\n  if(!(is.vector(response) & is.atomic(response) & is.numeric(response))){\n  stop(\"response vector is not numeric.\")\n  }\n  if(!(is.vector(prediction) & is.atomic(prediction) & is.numeric(prediction))){\n  stop(\"prediction vector is not numeric.\")\n}\n\n  results = list()\n  \n  if(\"RMSE\" %in% metrics){\n    results$RMSE = getRMSE(response, prediction)\n  }\n  \n  if(\"MAE\" %in% metrics){\n    results$MAE = getMAE(response, prediction)\n  }\n  \n  return(results)\n}\n\nset.seed(10)\nn &lt;- 100\nx &lt;- runif(n)\nresp &lt;- 3 + 10*x + rnorm(n)\npred &lt;- predict(lm(resp ~ x), data.frame(x))\n\n\nmetrics(resp, pred)\n\n$RMSE\n[1] 0.9581677\n\n$MAE\n[1] 0.8155776\n\nmetrics(resp, pred, metrics = \"RMSE\")\n\n$RMSE\n[1] 0.9581677\n\nmetrics(resp, pred, metrics = \"MAE\")\n\n$MAE\n[1] 0.8155776\n\nresp[c(1,2)] = NA_real_\nmetrics(resp, pred)\n\n$RMSE\n[1] NA\n\n$MAE\n[1] NA\n\nmetrics(resp, pred, metrics = \"RMSE\")\n\n$RMSE\n[1] NA\n\nmetrics(resp, pred, metrics = \"MAE\")\n\n$MAE\n[1] NA\n\nmetrics(resp, pred, na.rm = TRUE)\n\n$RMSE\n[1] NA\n\n$MAE\n[1] NA\n\nmetrics(resp, pred, metrics = \"RMSE\", na.rm = TRUE)\n\n$RMSE\n[1] NA\n\nmetrics(resp, pred, metrics = \"MAE\", na.rm = TRUE)\n\n$MAE\n[1] NA\n\n# metrics(resp, iris) presents error and does not allow me to run quarto render"
  },
  {
    "objectID": "HW4.html#task-3-api-and-tidy-style-function",
    "href": "HW4.html#task-3-api-and-tidy-style-function",
    "title": "ST558: Homework 4",
    "section": "Task 3: API and Tidy-style function",
    "text": "Task 3: API and Tidy-style function\n\nnews API reading\n\n\nlibrary(httr)\n\nWarning: package 'httr' was built under R version 4.3.2\n\ndat = GET(\"https://newsapi.org/v2/top-headlines?sources=techcrunch&apiKey=dd989a70d3e549a08e899b8bee8c3707\")\n\n\nParsing and finding data frame\n\n\nlibrary(jsonlite)\n\nWarning: package 'jsonlite' was built under R version 4.3.2\n\n\n\nAttaching package: 'jsonlite'\n\n\nThe following object is masked from 'package:purrr':\n\n    flatten\n\nparsed = dat$content |&gt;\n  rawToChar() |&gt;\n  fromJSON()\nstr(parsed, max.level = 1)\n\nList of 3\n $ status      : chr \"ok\"\n $ totalResults: int 10\n $ articles    :'data.frame':   10 obs. of  8 variables:\n\nparsed$articles |&gt;\n  as_tibble()\n\n# A tibble: 10 × 8\n   source$id $name author title description url   urlToImage publishedAt content\n   &lt;chr&gt;     &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt;      &lt;chr&gt;       &lt;chr&gt;  \n 1 techcrun… Tech… Laure… Bye-… Autonomous… http… https://t… 2024-05-08… \"Auton…\n 2 techcrun… Tech… Alex … $450… This morni… http… https://t… 2024-05-08… \"Good …\n 3 techcrun… Tech… Alex … Watc… Would you … http… https://t… 2024-05-08… \"Apple…\n 4 techcrun… Tech… Rebec… Uber… Uber plans… http… https://t… 2024-05-08… \"Uber …\n 5 techcrun… Tech… Mike … Chec… Checkfirst… http… https://t… 2024-05-08… \"Weve …\n 6 techcrun… Tech… Paul … UK c… Monzo has … http… https://t… 2024-05-08… \"Monzo…\n 7 techcrun… Tech… Brian… iRob… iRobot Tue… http… https://t… 2024-05-08… \"iRobo…\n 8 techcrun… Tech… Devin… Goog… Google Dee… http… https://t… 2024-05-07… \"Googl…\n 9 techcrun… Tech… Tim D… Myco… The startu… http… https://t… 2024-05-07… \"Usual…\n10 techcrun… Tech… Kyle … Cont… Xtend, a d… http… https://t… 2024-05-07… \"Close…\n\n\n\nFunction to query the API\n\n\nnews_pull &lt;- function(title, from_date, api_key){\n  url = \"https://newsapi.org/v2/everything\"\n  params = list(\n    q = title,\n    from = from_date,\n    sortBy = \"publishedAt\",\n    apiKey = api_key\n  )\n  \n  response = GET(url, query = params)\n  \n  content = content(response, \"text\")\n  json_content = fromJSON(content, flatten = TRUE)\n  \n  return(json_content)\n}"
  }
]